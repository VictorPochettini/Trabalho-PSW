<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artistas em Destaque - ArtBeat</title>
    <link rel="stylesheet" href="css/foryou.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="icon" href="images/ArtBeat_Branco.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- ArtBeat Bootstrap Customizations -->
    <link href="css/bootstrap-artbeat.css" rel="stylesheet">

</head>
<body>
    <!-- Menu -->
    <div class="topo">
        <header>
            <nav>
                <div class="imagemLogo">
                    <img src="images/ArtBeat_Branco.png" class="logo" alt="logo art beat">
                </div>
            
                <ul class="menu">
                    <li class="dropdown"><a href="Feed.html">Feed</a></li>
                    <li class="dropdown"><a href="ArtistasLogado.html" class="enfase">Artistas</a></li>
                    <li class="dropdown"><a href="DesafiosLogado.html">Desafios</a></li>
                    <li class="dropdown" onclick="window.location.href='PerfilUsu√°rio.html'"><a href="#"><i class="fa-solid fa-circle-user fa-xl" style="color: #ffffff;"></i></a></li>
                </ul>
            </nav>
        </header>
    </div>

    <!-- Conte√∫do Principal -->
    <div class="container">
        <h1 class="page-title">Artistas em Destaque</h1>
        <p class="page-subtitle">Descubra os artistas mais populares e bem avaliados da plataforma</p>
        
        <!-- Filtros -->
        <div class="filters">
            <button class="filter-btn active" data-filter="all">Todos</button>
            <button class="filter-btn" data-filter="musica">M√∫sica</button>
            <button class="filter-btn" data-filter="letra">Letra</button>
            <button class="filter-btn" data-filter="arte">Arte</button>
            <div class="sort-select">
                <label for="sort-by">Ordenar por:</label>
                <select id="sort-by">
                    <option value="rating">Maior Avalia√ß√£o</option>
                    <option value="followers">Mais Seguidos</option>
                    <option value="newest">Mais Recentes</option>
                </select>
            </div>
        </div>
        
        <!-- Lista de Artistas -->
        <div class="artists-grid" id="artists-grid">
            <!-- Os artistas ser√£o carregados via JavaScript -->
        </div>
    </div>

    <script>
        // Dados de exemplo dos artistas
        const artistsData = [
            {
                id: 1,
                name: "Ana Silva",
                category: "M√∫sica",
                followers: 12500,
                works: 42,
                rating: 4.9,
                avatar: "üé§"
            },
            {
                id: 2,
                name: "Carlos Mendes",
                category: "Letra",
                followers: 8900,
                works: 28,
                rating: 4.8,
                avatar: "‚úçÔ∏è"
            },
            {
                id: 3,
                name: "Beatriz Santos",
                category: "Arte",
                followers: 15600,
                works: 35,
                rating: 4.7,
                avatar: "üé®"
            },
            {
                id: 4,
                name: "Jo√£o Costa",
                category: "M√∫sica",
                followers: 7200,
                works: 19,
                rating: 4.6,
                avatar: "üé∏"
            },
            {
                id: 5,
                name: "Marina Oliveira",
                category: "Letra",
                followers: 10300,
                works: 31,
                rating: 4.9,
                avatar: "üìù"
            },
            {
                id: 6,
                name: "Ricardo Alves",
                category: "Arte",
                followers: 6800,
                works: 24,
                rating: 4.5,
                avatar: "üñåÔ∏è"
            },
            {
                id: 7,
                name: "Fernanda Lima",
                category: "M√∫sica",
                followers: 14200,
                works: 38,
                rating: 4.8,
                avatar: "üéπ"
            },
            {
                id: 8,
                name: "Pedro Martins",
                category: "Letra",
                followers: 9500,
                works: 27,
                rating: 4.7,
                avatar: "üìñ"
            }
        ];

        // Fun√ß√£o para normalizar categorias (remove acentos e converte para min√∫sculas)
        function normalizeCategory(category) {
            return category.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase();
        }

        // Fun√ß√£o para renderizar os artistas
        function renderArtists(artists) {
            const grid = document.getElementById('artists-grid');
            grid.innerHTML = '';
            
            artists.forEach(artist => {
                const stars = '‚òÖ'.repeat(Math.floor(artist.rating)) + '‚òÜ'.repeat(5 - Math.floor(artist.rating));
                
                const card = document.createElement('div');
                card.className = 'artist-card';
                card.dataset.category = normalizeCategory(artist.category);
                
                card.innerHTML = `
                    <div class="artist-header">
                        <div class="artist-avatar">${artist.avatar}</div>
                    </div>
                    <div class="artist-info">
                        <h3 class="artist-name">${artist.name}</h3>
                        <span class="artist-category">${artist.category}</span>
                        
                        <div class="artist-stats">
                            <div class="stat">
                                <div class="stat-value">${artist.followers.toLocaleString()}</div>
                                <div class="stat-label">Seguidores</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value">${artist.works}</div>
                                <div class="stat-label">Obras</div>
                            </div>
                        </div>
                        
                        <div class="artist-rating">
                            <div class="rating-stars">${stars}</div>
                            <span class="rating-value">${artist.rating}</span>
                        </div>
                        
                        <div class="artist-actions">
                            <button class="btn-follow js-seguir-btn">Seguir</button>
                            <button class="btn-monetize monetizabtn">
                                <i class="fa-solid fa-sack-dollar"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
            
            // Adicionar event listeners aos bot√µes de seguir
            document.querySelectorAll('.js-seguir-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.textContent === 'Seguir') {
                        this.textContent = 'Seguindo';
                        this.classList.add('seguindo');
                    } else {
                        this.textContent = 'Seguir';
                        this.classList.remove('seguindo');
                    }
                });
            });
        }

        // Fun√ß√£o para filtrar artistas (CORRIGIDA)
        function filterArtists(category) {
            if (category === 'all') {
                return artistsData;
            }
            
            return artistsData.filter(artist => {
                const artistCategory = normalizeCategory(artist.category);
                return artistCategory === category;
            });
        }

        // Fun√ß√£o para ordenar artistas
        function sortArtists(artists, criteria) {
            const sorted = [...artists];
            
            switch(criteria) {
                case 'rating':
                    return sorted.sort((a, b) => b.rating - a.rating);
                case 'followers':
                    return sorted.sort((a, b) => b.followers - a.followers);
                case 'newest':
                    return sorted.sort((a, b) => b.id - a.id);
                default:
                    return sorted;
            }
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Renderizar todos os artistas inicialmente
            renderArtists(sortArtists(artistsData, 'rating'));
            
            // Filtros por categoria
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remover classe active de todos os bot√µes
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    
                    // Adicionar classe active ao bot√£o clicado
                    this.classList.add('active');
                    
                    // Filtrar artistas
                    const category = this.dataset.filter;
                    const filteredArtists = filterArtists(category);
                    
                    // Ordenar e renderizar
                    const sortBy = document.getElementById('sort-by').value;
                    renderArtists(sortArtists(filteredArtists, sortBy));
                });
            });
            
            // Ordena√ß√£o
            document.getElementById('sort-by').addEventListener('change', function() {
                const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
                const filteredArtists = filterArtists(activeFilter);
                renderArtists(sortArtists(filteredArtists, this.value));
            });
            
            // Adicionar event listeners para os bot√µes de monetiza√ß√£o
            document.querySelectorAll('.monetizabtn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Aqui voc√™ pode adicionar a l√≥gica para abrir o popup de monetiza√ß√£o
                    console.log('Abrir popup de monetiza√ß√£o');
                });
            });
        });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

    <!-- ArtBeat Sound System -->
    <script src="js/artbeat-sounds.js"></script>
</body>
</html>